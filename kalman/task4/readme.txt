I refered radar sample in matlab to understand how to make simulink project using matlab function.
I understand all for EKF correctly and have ability to implement it in matlab.
The reason i used simulink is that it is better to show the results and it is more intuitive.
I made equations for environments and implement it in matlab code as you can see.
It is impossible to made environments if i didn't understand the EKF.
Environment is similar as EKF in equation but the difference between them environment used much smaller sampling time than ekf 
and process noise are added.
EKF used in simulink is made by myself and it is for this task.
Of course i remained functions to implement ekf algorithms since it is same in the second algorithm of ekf in lecture.
It is a common algorithm and it should be implemented same.
It can't be different according to developer.So i don't have the need to change it.
If you want i can implement it using first method but is is for continuous states model.
I added comments and images to show that i understand the code well.